<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sartarosh</title>

<style>
:root{
  --bg:#0b1220;
  --card:#111827;
  --soft:#1f2937;
  --accent:#22c55e;
  --text:#f9fafb;
  --muted:#9ca3af;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  background:var(--bg);
  color:var(--text);
}

#app{padding:20px}

h1{
  font-size:22px;
  margin-bottom:14px;
  text-align:center;
}

input,select{
  width:100%;
  padding:14px;
  border-radius:16px;
  border:none;
  background:#020617;
  color:var(--text);
  font-size:15px;
  margin-bottom:12px;
}

/* ===== CARD ===== */
.barber-card{
  display:flex;
  gap:14px;
  background:var(--card);
  padding:14px;
  border-radius:20px;
  margin-bottom:14px;
  cursor:pointer;
  transition:.15s;
}
.barber-card:active{transform:scale(.97)}

.avatar{
  width:72px;
  height:72px;
  border-radius:18px;
  object-fit:cover;
}

.info{flex:1}

.name{
  font-size:17px;
  font-weight:600;
}

.meta{
  font-size:13px;
  color:var(--muted);
  margin-top:4px;
}

/* ===== BUTTONS ===== */
button{
  width:100%;
  padding:16px;
  border-radius:18px;
  border:none;
  font-size:16px;
  font-weight:500;
  margin-top:12px;
}

.primary{
  background:var(--accent);
  color:#022c22;
}

.secondary{
  background:var(--soft);
  color:var(--text);
}

/* ===== SLOTS ===== */
.slot{
  background:var(--card);
  padding:16px;
  border-radius:18px;
  margin-bottom:10px;
  font-size:15px;
}
.busy{opacity:.4}

/* ===== CENTER ===== */
.center{
  text-align:center;
  color:var(--muted);
  font-size:14px;
}
</style>
</head>

<body>
<div id="app"></div>

<script>
/* ===== DATA ===== */
const BARBERS=[
 {name:"–î–æ–Ω–∏—ë—Ä",cut:120000,exp:"5 –ª–µ—Ç –æ–ø—ã—Ç–∞",address:"–¢–µ–º—É—Ä –ú–∞–ª–∏–∫ 27",photo:"https://github.com/doniyoryz/Telegram-mini-app/blob/main/man.jpg?raw=true"},
 {name:"–ë–∞—Ö—Ç–∏—ë—Ä",cut:100000,exp:"fade, –±–æ—Ä–æ–¥–∞",address:"–§–µ—Ä—É–∑–∞ 2, 7-–¥–æ–º",photo:"https://github.com/doniyoryz/Telegram-mini-app/blob/main/baxa.jpg?raw=true"},
 {name:"–ú–∞—Ö–º—É–¥",cut:90000,exp:"–∫–ª–∞—Å—Å–∏–∫–∞",address:"–ê–±–∞–π",photo:"https://github.com/doniyoryz/Telegram-mini-app/blob/main/maxa.jpg?raw=true"},
 {name:"–ò—Å–ª–æ–º",cut:85000,exp:"—É–Ω–∏–≤–µ—Ä—Å–∞–ª",address:"–¢—É–∑–µ–ª—å",photo:"https://github.com/doniyoryz/Telegram-mini-app/blob/main/isa.jpg?raw=true"}
];

const BUSY={"–î–æ–Ω–∏—ë—Ä":["11:00","15:00"]};

let booking={},search="",maxPrice=200000;

/* ===== LIST ===== */
function showAll(){
 let html=`
 <h1>üíà –ë–∞—Ä–±–µ—Ä—ã</h1>
 <input placeholder="üîç –ò–º—è –∏–ª–∏ –∞–¥—Ä–µ—Å" oninput="search=this.value;showAll()">
 <select onchange="maxPrice=this.value;showAll()">
  <option value="200000">–õ—é–±–∞—è —Ü–µ–Ω–∞</option>
  <option value="100000">–¥–æ 100 000</option>
 </select>
 `;

 BARBERS.filter(b=>
  (b.name+b.address).toLowerCase().includes(search.toLowerCase())
  && b.cut<=maxPrice
 ).forEach(b=>{
 html+=`
 <div class="barber-card" onclick="profile('${b.name}')">
  <img class="avatar" src="${b.photo}">
  <div class="info">
    <div class="name">${b.name}</div>
    <div class="meta">‚úÇÔ∏è –æ—Ç ${b.cut.toLocaleString()} —Å—É–º</div>
    <div class="meta">üìç ${b.address}</div>
  </div>
 </div>`;
 });

 app.innerHTML=html;
}

/* ===== PROFILE ===== */
function profile(name){
 booking.barber=BARBERS.find(b=>b.name===name);
 app.innerHTML=`
 <h1>${booking.barber.name}</h1>
 <img src="${booking.barber.photo}" style="width:100%;border-radius:22px">
 <p class="center">${booking.barber.exp}</p>
 <p class="center">üìç ${booking.barber.address}</p>

 <button class="primary" onclick="service()">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</button>
 <button class="secondary" onclick="showAll()">–ù–∞–∑–∞–¥</button>
 `;
}

/* ===== FLOW ===== */
function service(){
 app.innerHTML=`
 <h1>–£—Å–ª—É–≥–∞</h1>
 <button class="secondary" onclick="booking.service='–°—Ç—Ä–∏–∂–∫–∞';date()">–°—Ç—Ä–∏–∂–∫–∞</button>
 <button class="secondary" onclick="booking.service='–ë–æ—Ä–æ–¥–∞';date()">–ë–æ—Ä–æ–¥–∞</button>
 <button class="secondary" onclick="profile(booking.barber.name)">–ù–∞–∑–∞–¥</button>
 `;
}

function date(){
 const t=new Date().toDateString();
 const tm=new Date(Date.now()+86400000).toDateString();
 app.innerHTML=`
 <h1>–î–∞—Ç–∞</h1>
 <button class="secondary" onclick="booking.date='${t}';time()">–°–µ–≥–æ–¥–Ω—è</button>
 <button class="secondary" onclick="booking.date='${tm}';time()">–ó–∞–≤—Ç—Ä–∞</button>
 <button class="secondary" onclick="service()">–ù–∞–∑–∞–¥</button>
 `;
}

function time(){
 let html=`<h1>–í—Ä–µ–º—è</h1>`;
 ["10:00","11:00","12:00","14:00","15:00"].forEach(t=>{
  const busy=(BUSY[booking.barber.name]||[]).includes(t);
  html+=`<div class="slot ${busy?'busy':''}" onclick="${busy?'':`confirm('${t}')`}">
  ‚è∞ ${t} ${busy?'(–∑–∞–Ω—è—Ç–æ)':''}</div>`;
 });
 html+=`<button class="secondary" onclick="date()">–ù–∞–∑–∞–¥</button>`;
 app.innerHTML=html;
}

function confirm(t){
 booking.time=t;
 app.innerHTML=`
 <h1>‚è≥ –ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω</h1>
 <p class="center">
 ${booking.barber.name}<br>
 ${booking.service}<br>
 ${booking.date}<br>
 ${booking.time}
 </p>
 <button class="secondary" onclick="showAll()">–ù–∞ –≥–ª–∞–≤–Ω—É—é</button>
 `;
}

showAll();
</script>
</body>
</html>



