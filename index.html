<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sartarosh</title>

  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      background: #0f172a;
      color: white;
    }

    #app {
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    button.secondary {
      width: 100%;
      padding: 14px;
      margin-bottom: 12px;
      background: #1e293b;
      border: 1px solid #334155;
      color: white;
      border-radius: 12px;
      font-size: 16px;
      text-align: left;
    }

    .barber-card {
  display: flex;
  gap: 12px;
  background: #1e293b;
  border-radius: 14px;
  padding: 12px;
  margin-bottom: 14px;
  align-items: center;
}

.barber-card:active {
  background: #334155;
}

.avatar {
  width: 64px;
  height: 64px;
  border-radius: 12px;
  object-fit: cover;
}

.info {
  flex: 1;
}

.name {
  font-weight: 600;
  font-size: 16px;
}

.rating {
  font-size: 13px;
  opacity: 0.8;
}

.price {
  font-size: 14px;
  margin-top: 4px;
}

.location {
  font-size: 12px;
  opacity: 0.7;
}

.cta {
  font-size: 13px;
  opacity: 0.9;
  white-space: nowrap;
}
  </style>
</head>

<body>
  <div id="app"></div>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    console.log("Telegram WebApp:", window.Telegram?.WebApp);

    /* ========= –î–ê–ù–ù–´–ï ========= */
    const BARBERS = {
      {
  name: "–î–æ–Ω–∏—ë—Ä",
  exp: "5 –ª–µ—Ç –æ–ø—ã—Ç–∞",
  cut: 120000,
  beard: 80000,
  tg: "d_zafarogli",
  photo: "https://github.com/doniyoryz/Telegram-mini-app/blob/main/man.jpg?raw=true",
  address: "–¢–µ–º—É—Ä –ú–∞–ª–∏–∫ 27"
}
,
        {
  name: "–ë–∞—Ö—Ç–∏—ë—Ä",
  exp: "fade, –±–æ—Ä–æ–¥–∞",
  cut: 100000,
  beard: 70000,
  tg: "ryoithab",
  photo: "https://github.com/doniyoryz/Telegram-mini-app/blob/main/baxa.jpg?raw=true"
  address: "–§–µ—Ä—É–∑–∞ 2, 7-–¥–æ–º"
}

      ],
        {
  name: "–ú–∞—Ö–º—É–¥",
  exp: "fade, –±–æ—Ä–æ–¥–∞",
  cut: 100000,
  beard: 70000,
  tg: "CJskadi",
  photo: "https://github.com/doniyoryz/Telegram-mini-app/blob/main/maxa.jpg?raw=true"
  address: "–ê–±–∞–π"
}

      ],
        {
  name: "–ò—Å–ª–æ–º",
  exp: "fade, –±–æ—Ä–æ–¥–∞",
  cut: 100000,
  beard: 70000,
  tg: "isa_abd09",
  photo: "https://github.com/doniyoryz/Telegram-mini-app/blob/main/isa.jpg?raw=true"
  address: "–¢—É–∑–µ–ª—å"
}

      ]
    };
    let booking = {};

function showAllBarbers() {
  let html = `<h1>üíà –í—ã–±–µ—Ä–∏—Ç–µ –±–∞—Ä–±–µ—Ä–∞</h1>`;

  Object.entries(BARBERS).forEach(([branch, barbers]) => {
    barbers.forEach(b => {
      html += `
  <div class="barber-card" onclick="selectBarber('${b.name}', '${b.tg}', '${branch}')">
    
   <img class="avatar" src="${b.photo}" />

    <div class="info">
      <div class="name">${b.name}</div>
      <div class="rating">‚≠ê 4.8 ‚Ä¢ ${b.exp}</div>
      <div class="price">‚úÇÔ∏è –æ—Ç ${b.cut.toLocaleString()} —Å—É–º</div>
      <div class="location">üìç ${b.address || branch}</div>
    </div>

    <div class="cta">–í—ã–±—Ä–∞—Ç—å</div>
  </div>
`;

    });
  });

  document.getElementById("app").innerHTML = html;
}
  function selectBarber(name, tg, branch) {
  booking.barber = name;
  booking.tg = tg;
  booking.branch = branch;


  let html = `
    <h1>‚úÇÔ∏è –í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</h1>

    <button class="secondary" onclick="selectService('–°—Ç—Ä–∏–∂–∫–∞')">
      ‚úÇÔ∏è –°—Ç—Ä–∏–∂–∫–∞
    </button>

    <button class="secondary" onclick="selectService('–ë–æ—Ä–æ–¥–∞')">
      üßî –ë–æ—Ä–æ–¥–∞
    </button>

    <button class="secondary" onclick="selectService('–ö–æ–º–ø–ª–µ–∫—Å')">
      üíà –ö–æ–º–ø–ª–µ–∫—Å
    </button>

    <button class="secondary" onclick="showAllBarbers()">
  ‚¨ÖÔ∏è –ù–∞–∑–∞–¥
</button>
  `;

  document.getElementById("app").innerHTML = html;
}
function selectService(service) {
  booking.service = service;

  let today = new Date();
  let tomorrow = new Date();
  tomorrow.setDate(today.getDate() + 1);

  let html = `
    <h1>üìÖ –í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É</h1>

    <button class="secondary" onclick="selectDate('${today.toDateString()}')">
      –°–µ–≥–æ–¥–Ω—è
    </button>

    <button class="secondary" onclick="selectDate('${tomorrow.toDateString()}')">
      –ó–∞–≤—Ç—Ä–∞
    </button>

    <button class="secondary" onclick="selectBarber(booking.barber, booking.tg, booking.branch)">
      ‚¨ÖÔ∏è –ù–∞–∑–∞–¥
    </button>

  `;

  document.getElementById("app").innerHTML = html;
}
function selectDate(date) {
  booking.date = date;

  let times = ["10:00", "11:00", "12:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00",];

  let html = `<h1>‚è∞ –í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è</h1>`;

  times.forEach(t => {
    html += `
      <button class="secondary" onclick="confirmBooking('${t}')">
        ‚è∞ ${t}
      </button>
    `;
  });

  html += `
    <button class="secondary" onclick="selectService(booking.service)">
      ‚¨ÖÔ∏è –ù–∞–∑–∞–¥
    </button>
  `;

  document.getElementById("app").innerHTML = html;
}
function confirmBooking(time) {
  booking.time = time;

  let html = `
    <h1>‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h1>

    üíà –ë–∞—Ä–±–µ—Ä: ${booking.barber}<br>
    ‚úÇÔ∏è –£—Å–ª—É–≥–∞: ${booking.service}<br>
    üìÖ –î–∞—Ç–∞: ${booking.date}<br>
    ‚è∞ –í—Ä–µ–º—è: ${booking.time}<br><br>

    <button class="secondary" onclick="contact(booking.tg)">
      üì© –ù–∞–ø–∏—Å–∞—Ç—å –±–∞—Ä–±–µ—Ä—É
    </button>

    <button class="secondary" onclick="showAllBarbers()">
     üîÅ –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å
    </button>

  `;

  document.getElementById("app").innerHTML = html;
}
   
    /* ========= –ö–û–ù–¢–ê–ö–¢ ========= */
    function contact(username) {
      window.open("https://t.me/" + username, "_blank");
    }

    /* ========= START ========= */
    showAllBarbers();
  </script>
</body>
</html>


