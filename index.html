<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sartarosh</title>

<style>
:root {
  --bg:#0f172a;
  --card:#1e293b;
  --border:#334155;
  --primary:#22c55e;
  --text:#ffffff;
  --muted:rgba(255,255,255,.7);
}

* { box-sizing:border-box; }

body {
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  background:var(--bg);
  color:var(--text);
}

#app { padding:20px 20px 100px; }

/* ===== HEADER ===== */
.header {
  text-align:center;
  margin-bottom:16px;
}
.header h1 {
  margin:0;
  font-size:22px;
}
.header .sub {
  font-size:13px;
  color:var(--muted);
}

/* ===== INPUT ===== */
input {
  width:100%;
  padding:12px;
  border-radius:14px;
  border:none;
  font-size:15px;
  margin-bottom:12px;
}

/* ===== FILTER CHIPS ===== */
.filters {
  display:flex;
  gap:8px;
  overflow-x:auto;
  margin-bottom:14px;
}
.chip {
  padding:8px 14px;
  border-radius:20px;
  background:var(--card);
  border:1px solid var(--border);
  font-size:13px;
  white-space:nowrap;
  cursor:pointer;
}
.chip.active {
  background:var(--primary);
  color:#000;
}

/* ===== BARBER CARD ===== */
.card {
  display:flex;
  gap:12px;
  background:var(--card);
  padding:12px;
  border-radius:16px;
  margin-bottom:12px;
  cursor:pointer;
}
.avatar {
  width:64px;
  height:64px;
  border-radius:14px;
  object-fit:cover;
}
.info { flex:1; }
.name { font-weight:600;font-size:16px; }
.small { font-size:13px;color:var(--muted);margin-top:2px; }

/* ===== BUTTONS ===== */
button {
  width:100%;
  padding:14px;
  border-radius:14px;
  border:none;
  font-size:16px;
  cursor:pointer;
}
.primary {
  background:var(--primary);
  color:#000;
}
.secondary {
  background:var(--card);
  color:white;
  border:1px solid var(--border);
  margin-top:8px;
}

/* ===== BOTTOM CTA ===== */
.bottom {
  position:fixed;
  left:16px;
  right:16px;
  bottom:16px;
}

/* ===== TIME SLOTS ===== */
.slot {
  padding:14px;
  border-radius:12px;
  background:var(--card);
  margin-bottom:8px;
}
.busy {
  opacity:.4;
}
</style>
</head>

<body>
<div id="app"></div>

<script>
/* ===== DATA ===== */
const BARBERS = [
 {name:"–î–æ–Ω–∏—ë—Ä",cut:120000,exp:"5 –ª–µ—Ç –æ–ø—ã—Ç–∞",tg:"d_zafarogli",address:"–¢–µ–º—É—Ä –ú–∞–ª–∏–∫ 27",photo:"https://github.com/doniyoryz/Telegram-mini-app/blob/main/man.jpg?raw=true"},
 {name:"–ë–∞—Ö—Ç–∏—ë—Ä",cut:100000,exp:"fade, –±–æ—Ä–æ–¥–∞",tg:"ryoithab",address:"–§–µ—Ä—É–∑–∞ 2, 7-–¥–æ–º",photo:"https://github.com/doniyoryz/Telegram-mini-app/blob/main/baxa.jpg?raw=true"},
 {name:"–ú–∞—Ö–º—É–¥",cut:90000,exp:"–∫–ª–∞—Å—Å–∏–∫–∞",tg:"CJskadi",address:"–ê–±–∞–π",photo:"https://github.com/doniyoryz/Telegram-mini-app/blob/main/maxa.jpg?raw=true"},
 {name:"–ò—Å–ª–æ–º",cut:85000,exp:"—É–Ω–∏–≤–µ—Ä—Å–∞–ª",tg:"isa_abd09",address:"–¢—É–∑–µ–ª—å",photo:"https://github.com/doniyoryz/Telegram-mini-app/blob/main/isa.jpg?raw=true"}
];

const BUSY = { "–î–æ–Ω–∏—ë—Ä":["11:00","15:00"], "–ë–∞—Ö—Ç–∏—ë—Ä":["12:00"] };

let booking={}, search="", price=200000;

/* ===== LIST ===== */
function showList(){
 let html=`
 <div class="header">
   <h1>üíà –ë–∞—Ä–±–µ—Ä—ã</h1>
   <div class="sub">–¢–∞—à–∫–µ–Ω—Ç</div>
 </div>

 <input placeholder="üîç –ò–º—è –∏–ª–∏ –∞–¥—Ä–µ—Å" oninput="search=this.value;showList()">

 <div class="filters">
   <div class="chip active">üìç –†—è–¥–æ–º</div>
   <div class="chip" onclick="price=100000;showList()">üí∏ –î–æ 100k</div>
   <div class="chip" onclick="price=200000;showList()">üí∏ –õ—é–±–∞—è —Ü–µ–Ω–∞</div>
 </div>
 `;

 BARBERS.filter(b=>
   (b.name+b.address).toLowerCase().includes(search.toLowerCase())
   && b.cut<=price
 ).forEach(b=>{
 html+=`
 <div class="card" onclick="profile('${b.name}')">
   <img class="avatar" src="${b.photo}">
   <div class="info">
     <div class="name">${b.name}</div>
     <div class="small">‚úÇÔ∏è –æ—Ç ${b.cut} —Å—É–º</div>
     <div class="small">üìç ${b.address}</div>
   </div>
 </div>`;
 });

 app.innerHTML=html;
}

/* ===== PROFILE ===== */
function profile(name){
 booking.barber=BARBERS.find(b=>b.name===name);
 app.innerHTML=`
 <div class="header"><h1>${booking.barber.name}</h1></div>
 <img src="${booking.barber.photo}" style="width:100%;border-radius:18px;margin-bottom:12px">
 <p class="small">üìç ${booking.barber.address}</p>

 <div class="bottom">
   <button class="primary" onclick="service()">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</button>
   <button class="secondary" onclick="showList()">–ù–∞–∑–∞–¥</button>
 </div>`;
}

/* ===== SERVICE ===== */
function service(){
 app.innerHTML=`
 <div class="header"><h1>–£—Å–ª—É–≥–∞</h1></div>
 <button class="secondary" onclick="booking.service='–°—Ç—Ä–∏–∂–∫–∞';date()">–°—Ç—Ä–∏–∂–∫–∞</button>
 <button class="secondary" onclick="booking.service='–ë–æ—Ä–æ–¥–∞';date()">–ë–æ—Ä–æ–¥–∞</button>
 <div class="bottom">
   <button class="secondary" onclick="profile(booking.barber.name)">–ù–∞–∑–∞–¥</button>
 </div>`;
}

/* ===== DATE ===== */
function date(){
 const t=new Date().toDateString();
 const tm=new Date(Date.now()+86400000).toDateString();
 app.innerHTML=`
 <div class="header"><h1>–î–∞—Ç–∞</h1></div>
 <button class="secondary" onclick="booking.date='${t}';time()">–°–µ–≥–æ–¥–Ω—è</button>
 <button class="secondary" onclick="booking.date='${tm}';time()">–ó–∞–≤—Ç—Ä–∞</button>
 <div class="bottom">
   <button class="secondary" onclick="service()">–ù–∞–∑–∞–¥</button>
 </div>`;
}

/* ===== TIME ===== */
function time(){
 let html=`<div class="header"><h1>–í—Ä–µ–º—è</h1></div>`;
 let busy=BUSY[booking.barber.name]||[];
 ["10:00","11:00","12:00","14:00","15:00","16:00","17:00"].forEach(t=>{
  const b=busy.includes(t);
  html+=`<div class="slot ${b?'busy':''}" onclick="${b?'':`confirm('${t}')`}">
   ‚è∞ ${t} ${b?'(–∑–∞–Ω—è—Ç–æ)':''}
  </div>`;
 });
 html+=`<div class="bottom"><button class="secondary" onclick="date()">–ù–∞–∑–∞–¥</button></div>`;
 app.innerHTML=html;
}

/* ===== CONFIRM ===== */
function confirm(t){
 booking.time=t;
 app.innerHTML=`
 <div class="header"><h1>–ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω</h1></div>
 <p class="small">üü° –û–∂–∏–¥–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±–∞—Ä–±–µ—Ä–∞</p>
 <div class="card">
 ${booking.barber.name}<br>${booking.service}<br>${booking.date}<br>${booking.time}
 </div>
 <div class="bottom">
   <button class="primary" onclick="showList()">–ì–æ—Ç–æ–≤–æ</button>
 </div>`;
}

/* START */
showList();
</script>
</body>
</html>


